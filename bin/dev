#!/usr/bin/env bash

# Script to start the Rails development server with all required processes
# Uses Foreman to run Procfile.dev

if ! command -v foreman &> /dev/null
then
  echo "Installing foreman..."
  gem install foreman
fi

# Check if .env file exists, if not create from example
if [ ! -f .env ]; then
  echo "Creating .env file from .env.example..."
  cp .env.example .env
fi

# Start all processes defined in Procfile.dev
exec foreman start -f Procfile.dev "$@"
